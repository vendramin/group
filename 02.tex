%\section{Lecture -- Week 2}

\section{Subgroups}

When is a subset $S$ of a group $G$ itself a group under the operations inherited from $G$? The answer is given by the following definition:

\begin{definition}
\index{Subgroup}
    Let $G$ be a group. 
        A subset $S$ of $G$ is said to be a \emph{subgroup} of $G$ 
        if the following properties are satisfied:
        \begin{enumerate}
                \item $1\in S$,
                \item $x\in S\implies x^{-1}\in S$, and 
                \item $x,y\in S\implies xy\in S$.
        \end{enumerate}
        Notation: To say that $S$ is a subgroup of $G$, we write $S\leq G$.
\end{definition}

%The first condition of the definition can be replaced by
%the following condition: $S\ne\emptyset$. Why? 

\begin{example}
    If $G$ is a group, then 
    $\{1\}$ and $G$ are always subgroups of $G$. 
\end{example}

The subgroup $\{1\}$ is known as the \emph{trivial subgroup} of $G$. 
A subgroup $S$ of $G$ is said to be \emph{proper} if $S\ne G$. 

\begin{example}
Write $2\Z=\{2m:m\in\Z\}$ to denote the set of even integers. Then 
\[
2\Z\leq\Z\leq\Q\leq\R\leq\C
\]
is a chain of subgroups. 
\end{example}

\begin{example}
$S^1=\{z\in\C:|z|=1\}\leq\C^\times=\C\setminus\{0\}$.
\end{example}

Note that $S^1$ is not a subgroup of $\C$. Why?

\begin{example}
Let $n\geq1$. Then $G_n=\{z\in\C:z^
n=1\}$ is a subgroup of $\C^\times$. 
Note that
\[
G_n=\{1,\exp(2\pi i/n),\exp(4i\pi/n),\dots,\exp(2(n-1)i\pi/n)\}.
\]
and 
\[
G_n\leq\bigcup_{k\geq1}G_k\leq S^1\leq\C^\times.
\]
\end{example}

Why $\bigcup_{k\geq1}G_k$ is a group? 

\begin{exercise}
\label{xca:center}
        \index{Center!of a group}
        Let $G$ be a group. Prove that the \emph{center} 
        \[
                Z(G)=\{g\in G:gh=hg\text{ for all $h\in G$}\}
        \]
        of $G$ is a subgroup of $G$. 
\end{exercise}

\index{Centralizer!of an element}
One can prove that, if $G$ is a group and $g\in G$, then 
the \emph{centralizer} 
\[
C_G(g)=\{h\in G:gh=hg\}
\]
is a subgroup of $G$. Moreover, 
$Z(G)=\bigcap_{g\in G}C_G(g)$. 

\begin{exercise}
        \index{Conjugate of a subgroup}
        \label{xca:conjugate}
        Let $S$ be a subgroup of $G$ and $g\in G$. Prove that
        the \emph{conjugate} $gSg^{-1}$
        of $S$ by $g$ is a subgroup of $G$, where 
        $gSg^{-1}=\{gsg^{-1}:s\in S\}$. 
        Notation: 
        $\prescript{g}{}S=gSg^{-1}$.
\end{exercise}


\begin{exercise}
\label{xca:center_S3}
\index{Center!of $\Sym_3$}
        Prove that $Z(\Sym_3)=\{\id\}$ and compute $C_{\Sym_3}((12))$.
\end{exercise}

\begin{exercise}
\label{xca:center_2x2}
    Find the center of $\GL_2(\R)$.
\end{exercise}

The following exercise is useful: 

\begin{exercise}
\label{xca:subgroup}
        Let $G$ be a group and $S$ be a subset of $G$. 
        Prove that $S$ is a subgroup of $G$ if and only if 
        $S\ne\emptyset$ and for all $x,y\in S$ one has
        $xy^{-1}\in S$.
\end{exercise}

Use the previous exercise and
the fact that the determinant is a multiplicative function
to solve the following problem:

\begin{exercise}
\label{xca:SL_subgroup}
Prove that $\SL_n(\R)=\{a\in\GL_n(\R):\det(a)=1\}\leq\GL_n(\R)$. 
\end{exercise}

\begin{exercise}
\label{xca:intersection}
    Prove that an arbitrary intersection (not necessarily finite) of subgroups is again a subgroup.
\end{exercise}

The previous exercise is easy but crucial. We need it 
to construct subgroups generated 
by a given subset of elements. 

\begin{definition}
        \index{Subgroup!generated by a subset}
        Let $G$ be a group and $X$ a non-empty 
        subset of $G$. The \emph{subgroup
        generated} by $X$ is the smallest subgroup of $G$ that contains
        $X$, that is 
        \[
            \langle X\rangle=\bigcap\{S:S\leq G,X\subseteq S\}.
        \]
\end{definition}

Why this is the smallest subgroup that contains $X$? 
Let $H\leq G$ be such that 
$X\subseteq H$. Since $H$ is one of the subgroups appearing
in the intersection, 
\[
        \langle X\rangle=\bigcap\{S:S\leq G,X\subseteq S\}\subseteq H.        
\]

We will use the following notation:
If $X=\{g_1,\dots,g_k\}$, then 
\[
\langle
X\rangle=\langle\{g_1,\dots,g_k\}\rangle=\langle g_1,\dots,g_k\rangle.
\]

\begin{exercise}
\label{xca:generated}
Prove that 
\[
    \langle X\rangle=\{x_1^{n_1}\cdots x_k^{n_k}:k\geq0,\,x_1,\dots,x_k\in X,\,-1\leq n_1,\dots,n_k\leq 1\}.
\]
\end{exercise}

The previous exercise shows that
the subgroup generated by, say, the elements 
$x_1,\dots,x_n$ is nothing but the 
group formed by (some) words on the letters 
$x_1,\dots,x_n$ and their inverses 
$x_1^{-1},\dots,x_n^{-1}$. 

\begin{example}
Let $n\geq3$. Let 
\[
r=\begin{pmatrix}
\cos(2\pi/n) & -\sin(2\pi/n)\\
\sin(2\pi/n) & \cos(2\pi/n)
\end{pmatrix},
\quad
s=\begin{pmatrix}
        1 & 0\\
        0 & -1
\end{pmatrix}.
\]
The \emph{dihedral group} $\D_n$ is the subgroup of
$\GL_2(\C)$ generated by $r$ and $s$,
that is $\D_n=\langle r,s\rangle$. A direct calculation shows that 
\[
r^n=s^2=\begin{pmatrix}
        1&0\\
        0&1
\end{pmatrix},
\quad
srs=r^{-1}.
\]

An element of $\D_n$ is a finite word of the form 
\[
r^{i_1}s^{j_1}r^{i_2}s^{j_2}\cdots
\]
for some 
 $i_1,i_2,\dots\in\{0,1,\dots,n-1\}$ and 
$j_1,j_2,\dots\in\{0,1\}$. Since $rs=sr^{-1}$, we conclude that
every element of $\D_n$ can be written as $r^is^j$ 
for some $i\in\{0,\dots,n-1\}$ and $j\in\{0,1\}$. Since these elements are all different, we conclude that 
$|\D_n|=2n$.
\end{example}

To understand better the previous example, 
we discuss a particular case. 
% two concrete particular cases. 
% If $n=3$, 
% \[
% r=\begin{pmatrix}
% -1/2 & -\sqrt{3}/2\\
% \sqrt{3}/2 & -1/2
% \end{pmatrix},
% \quad
% s=\begin{pmatrix}
%         1 & 0\\
%         0 & -1
% \end{pmatrix}.
% \]
% and we obtain (another representation of) the group of symmetries of a regular 
% triangle. 
If $n=4$, 
then the elements of $\D_4$ are  
\begin{align*}
r&=\begin{pmatrix}
0 & -1\\
1 & 0
\end{pmatrix},
&
r^2&=\begin{pmatrix}
    -1 & 0\\
    0 & -1
\end{pmatrix},
&r^3&=\begin{pmatrix}
0 & 1\\
-1 & 0
\end{pmatrix},
&
I&=\begin{pmatrix}
        1 & 0\\
        0 & 1
\end{pmatrix},\\
s&=\begin{pmatrix}
1 & 0\\
0 & -1
\end{pmatrix},
&
rs&=\begin{pmatrix}
    0 & 1\\
    1 & 0
\end{pmatrix},
&r^2s&=\begin{pmatrix}
-1 & 0\\
0 & 1
\end{pmatrix},
&
r^3s&=\begin{pmatrix}
    0 & -1\\
    -1 & 0
\end{pmatrix}.
\end{align*}
This is (a representation of) the group of symmetries of the square. 

\begin{exercise}
The group $\D_3$ is generated by 
\[
r=\begin{pmatrix}
-1/2 & -\sqrt{3}/2\\
\sqrt{3}/2 & -1/2
\end{pmatrix},
\quad
s=\begin{pmatrix}
        1 & 0\\
        0 & -1
\end{pmatrix}.
\]
Note that this is (another representation of) the group of symmetries of an equilateral  
triangle. 
\end{exercise}

The following Magma code illustrates what happens with the previous exercise. The exercise, however, should be solved without the use of computers.

\begin{lstlisting}
> Q<x> := PolynomialAlgebra(Rationals());
> f := x^2 - 3;
> K<z> := NumberField(f);
> z^2;
3
> a := Matrix(2, [-1/2,-z/2,z/2,-1/2]);
> b := Matrix(2, [1,0,0,-1]);
> G := MatrixGroup<2,K|a,b>;
> GroupName(G);
S3      
\end{lstlisting}

\begin{exercise}
\label{xca:union}
        The union of subgroups is not necessarily 
        a subgroup. Can you give an example? 
\end{exercise}

\begin{example}
    Let $Q_8$ be the set of matrices 
    \begin{align*}
        I&=\begin{pmatrix}
            1&0\\
            0&1
        \end{pmatrix},
        &
        -I&=\begin{pmatrix}
            -1&0\\
            0&-1
        \end{pmatrix},
        &
        i&=\begin{pmatrix}
            \sqrt{-1}&0\\
            0&-\sqrt{-1}
        \end{pmatrix},
        &
        -i&=\begin{pmatrix}
            -\sqrt{-1}&0\\
            0&\sqrt{-1}
        \end{pmatrix},\\
        j&=\begin{pmatrix}
            0&1\\
            -1&0
        \end{pmatrix},
        &
        -j&=\begin{pmatrix}
            0&-1\\
            1&0
        \end{pmatrix},
        &
        k&=\begin{pmatrix}
            0&\sqrt{-1}\\
            \sqrt{-1}&0
        \end{pmatrix},
        &
        -k &=\begin{pmatrix}
            0&-\sqrt{-1}\\
            -\sqrt{-1}&0
        \end{pmatrix}.
    \end{align*}
    Then $Q_8$ is a subgroup of $\GL_2(\C)$. It is known as the \emph{quaternion group} of order eight. Sometimes, it is convenient just to write
    \[
    Q_8=\{1,-1,i,-i,j,-j,k,-k\}, 
    \]
    but one needs to remember 
    that 1 is playing the role of identity matrix, that is the neutral element of $Q_8$, 
    $-1$ commutes with every element of $Q_8$ 
    and that $i^2=j^2=k^2=-1$ and $ijk=-1$. This is enough to compute the multiplication table
    of $Q_8$. For example, to show that $ji=-k$, we proceed as follows: 
    \[
    ijk=-1\implies -jk=-i\implies jk=i\implies -k=ji.
    \]
    This is the code to create the group in Magma:
\begin{lstlisting}
> K<i> := CyclotomicField(4);
> a := Matrix(2, [i,0,0,-i]);
> b := Matrix(2, [0,1,-1,0]);
> G := MatrixGroup<2,K|a,b>;
> GroupName(G);
Q8      
\end{lstlisting}    
\end{example}

\begin{exercise}
\label{xca:Q8_table}
    Compute the multiplication table of $Q_8$. 
\end{exercise}

\section{Subgroups of \texorpdfstring{$\Z$}{Z}}

\index{Well-ordering principle}

To characterize the subgroups of $\Z$, we will 
use 
the \emph{well-ordering principle}. This principle states that every non-empty subset of non-negative integers contains a least element. 

\begin{theorem}
        \label{thm:Z}
        If $S$ is a subgroup of $\Z$, then
                $S=m\Z=\{mx:x\in \Z\}$
                for some $m\geq0$.
        \end{theorem}
        
        \begin{proof}
                If $S=\{0\}$, take $m=0$. 
                Assume now that $S\ne\{0\}$. Let 
                \[
                m=\min\{s\in S:s>0\}.
                \]
                Why does this $m$ exist?  
                Since $S\ne\{0\}$,  
                it contains 
                an element $n\in S\setminus\{0\}$. 
                There are then two possible cases: 
                $n>0$ or $-n>0$. Since 
                $S$ is a subgroup of $\Z$, $-n\in S$.
        
                We claim that $S=n\Z$.
                If $x\in S$, then $x=my+r$ for $y,r\in\Z$ with 
                $0\leq r<m$. Suppose that $r\ne 0$. Since $x,m\in S$, it follows that 
                $r\in S$,
                a contradiction to the minimality of $m$. Thus $r=0$ 
                and hence $x=my\in
                m\Z$. Conversely, since $n\in S$, it follows that
                 $nk\in S$ for all $k\in\Z$. In fact, if $k=0$, then 
                 $nk=0\in S$. If $k>0$, 
                 then 
                \[
                \underbrace{n+\cdots+n}_{k-\text{times}}\in S.
                \]
                Finally, if $k<0$, 
                then 
                \[
                nk=\underbrace{-n+(-n)+\cdots+(-n)}_{|k|-\text{times}}\in S.\qedhere
                \]
        \end{proof}

The previous theorem has nice applications. 
If $a,b\in\Z$, we say that $a$ \emph{divides} $b$ (or $b$ is divisible by $a$)
if $b=ac$ for some $c\in\Z$. Notation: 
\[
a\mid b\Longleftrightarrow b=ac\text{ for some $c\in\Z$.}
\]
If $a,b\in\Z$ are such that $ab\ne0$, then 
\[
S=a\Z+b\Z=\{m\in\Z:m=ar+bs\text{ for $r,s\in\Z$}\}
\]
is a subgroup of $\Z$ (this is an exercise). 
By Theorem \ref{thm:Z}, $S=d\Z$ for some $d>0$. 
This positive integer $d$
is the \emph{greatest common divisor} of $a$ and $b$, 
that is $d=\gcd(a,b)$. 

\begin{exercise}
Let $a,b\in\Z$ be such that $ab\ne0$ and $d=\gcd(a,b)$. 
Prove the following statements:
\begin{enumerate}
\item $d$ divides $a$ and $b$.
\item If $e\in\Z$ divides $a$ and $b$, then $e$ divides $d$.
\item There are $r,s\in\Z$ such that $d=ar+bs$.
\end{enumerate}
\end{exercise}

Two integers $a$ and $b$ are said to be \emph{coprime} if 
and only if the only positive integer dividing 
$a$ and $b$ is one, that is  
\begin{align*}
a\text{ and }b\text{ are coprime}&\Longleftrightarrow \gcd(a,b)=1\\
&\Longleftrightarrow \Z=a\Z+b\Z\\
&\Longleftrightarrow \text{there exist $r,s\in\Z$ such that $ar+bs=1$.}
\end{align*}

\begin{exercise}
        Let $p$ be a prime and 
        $a,b\in\Z$. Prove that if $p\mid ab$, 
        then $p\mid a$ or $p\mid b$.
\end{exercise}

If $S$ and $T$ are subgroups of $\Z$, then $S\cap T$
is a subgroup of $\Z$.
Let $a,b\in\Z$ be such that $ab\ne 0$. Since $a\Z\cap b\Z$ 
is a non-zero subgroup of $\Z$ (note that it contains $ab\ne 0$), 
we can write  $a\Z\cap b\Z=m\Z$
for some $m\geq1$. The integer $m$
is the \emph{least common multiple} of $a$ and $b$ 
and will be written as $m=\lcm(a,b)$.

\begin{exercise}
Let $a,b\in\Z\setminus\{0\}$ and $m=\lcm(a,b)$. 
Prove the following statements:
\begin{enumerate}
        \item $m$ is divisible by both $a$ and $b$.
        \item If $n$ is divisible by both $a$ and $b$, then 
        $n$ is divisible by $m$.
\end{enumerate}
\end{exercise}

\begin{exercise}
Let $a,b\in\Z_{\geq1}$. Prove that 
$ab=\gcd(a,b)\lcm(a,b)$.
%if $d=\gcd(a,b)$ and $m=\lcm(a,b)$, then 
%$ab=dm$.
\end{exercise}


\section{Cyclic groups and order of elements}

\begin{definition}
        \index{Cyclic group}
        A group $G$ is said to be \emph{cyclic} if 
        $G=\langle g\rangle$ for some 
        $g\in G$.
\end{definition}

If $G$ is a cyclic group generated by $g$, then 
$G=\langle g\rangle=\{g^k:k\in\Z\}$. Every cyclic group is, 
in particular, an abelian group. 

\begin{example}\
\begin{enumerate}
        \item $\Z=\langle 1\rangle=\langle -1\rangle$.
        \item $\Z/n=\langle 1\rangle$.
        \item $G_n=\langle \exp(2i\pi/n)\rangle$.
\end{enumerate}
\end{example}

\begin{example}
        $\mathcal{U}(\Z/8)\ne\langle 3\rangle$. In fact, $\langle 3\rangle=\{1,3\}\subsetneq\{1,3,5,7\}=\mathcal{U}(\Z/8)$.
\end{example}

\begin{exercise}
\label{xca:subgroups_cyclic}
        Prove that subgroups of a cyclic group are cyclic.
\end{exercise}

\begin{definition}
        \index{Order!of an element}
        Let $G$ be a group and $g\in G$. The \emph{order} of $g$
        is the order of the subgroup generated by $g$. Notation:
        $|g|=|\langle g\rangle|$.
\end{definition}


\begin{theorem}
        Let $G$ be a group and $g\in G$ and $n\geq1$. 
        The following statements are equivalent:
        \begin{enumerate}
                \item $|g|=n$.
                \item $n=\min\{k\in\Z_{\geq1}:g^k=1\}$.
                \item For every $k\in\Z$, $g^k=1\Longleftrightarrow n\mid k$.
                \item $\langle g\rangle=\{1,g,\dots,g^{n-1}\}$ and 
                the elements $1,g,\dots,g^{n-1}$ are all different.
        \end{enumerate}
\end{theorem}


\begin{proof}
        We first prove that $(1)\implies(2)$.
        If $g=1$, then $n=1$. Assume that $g\ne1$. Since $\langle g\rangle=\{g^k:k\in\Z\}$,
        there exist integers $i$ and $j$ with $i>j$ such that $g^i=g^j$, that is $g^{i-j}=1$. In particular,
        the set $\{k\in\Z_{\geq1}:g^k=1\}$ is non-empty and hence has a minimal element, say 
        \[
        d=\min\{k\in\Z_{\geq1}:g^k=1\}.
        \]
        
         We claim that $\langle g\rangle\subseteq\{1,g,\dots,g^{d-1}\}\subseteq\langle g\rangle$. 
        If $g^k\in\langle g\rangle$, then $k=dq+r$ for some $q,r\in\Z$ with $0\leq r<d$. Since $g^d=1$,
        \[
        g^k=g^{dq+r}=(g^d)^qg^r=g^r\in\{1=g^0,g,g^2,\dots,g^{d-1}\}
        \]
        Moreover, $\{1,g,\dots,g^{d-1}\}\subseteq \langle g\rangle$ and 
        $\{1,g,\dots,g^{d-1}\}$ has $d$ elements.

        We now prove that $(2)\implies(3)$. Assume that $g^k=1$. If 
        we write $k=nt+r$ with $0\leq r<n$, then $g^k=g^{nt+r}=g^r$. The minimality of $n$ 
        implies that $r=0$. Hence $n$ divides $k$.
        Conversely, if $k=nt$ for some $t\in\Z$, then $g^k=(g^n)^t=1$.

        Let us prove that $(3)\implies(4)$. Clearly, 
        $\{1,g,\dots,g^{n-1}\}\subseteq\langle g\rangle$. To prove the other 
        inclusion, we write $k=nt+r$ with $0\leq r\leq n-1$. Then 
        \[
                g^k=g^{nt+r}=(g^n)^tg^r=g^r, 
        \]
        as, by assumption, $g^n=1$. To see that the elements 
        $1,g,\dots,g^{n-1}$ are all different, let us assume that $g^k=g^l$ for some $k,l$ such that $0\leq
        k<l\leq n-1$. Then $g^{l-k}=1$ and $0<l-k\leq n-1$. However, by assumption, 
        $n$ divides $l-k$, and therefore
        $n\leq l-k$,
        a contradiction.

        Finally, the implication $(4)\implies(1)$ is trivial.
\end{proof}

\section{Commutators}

This section could be omitted for now but will be used later in when we learn about quotient groups. 

For a group $G$ and $x,y\in G$, the \emph{commutator} 
of $x$ and $y$ is defined as 
\[
[x,y]=xyx^{-1}y^{-1}
\]
Note that $[x,y]yx=xy$ and 
$[x,y]^{-1}=[y,x]$ for all $x,y\in G$. 

\begin{definition}
        \index{Derived subgroup}
        \index{Commutator subgroup}
        The \emph{commutator subgroup}
        $[G,G]$ of $G$ 
        is the subgroup generated by 
        the commutators of $G$, that is 
        $[G,G]=\langle[x,y]: x,y\in G\rangle$. 
\end{definition}

For a group $G$, 
\[
G\text{ is abelian }
\Longleftrightarrow [x,y]=1\text{ for all $x,y\in G$}
\Longleftrightarrow [G,G]=\{1\}.
\]

The commutator subgroup of a group $G$ is also called the \emph{derived subgroup} of~$G$. 
       
\begin{example}
        In $\Z$, the commutator of $x,y\in \Z$ 
        is the integer
        \[
        [x,y]=x+y-x-y=0.
        \]
        This example uses additive notation! 
        Thus $[\Z,\Z]=\{0\}$. 
\end{example}
        
\begin{exercise}
        Prove that $[\Sym_3,\Sym_3]=\{\id,(123),(132)\}$.
\end{exercise}
        
It is natural to ask why we consider the group generated by commutators rather than just the set of commutators. The answer is simple: the set of commutators does not necessarily form a subgroup! But how can we find an example of a group where this happens? This is not so straightforward, but with the help of computers, we can make it accessible to everyone.

\begin{example}
This example is taken from Carmichael's book~\cite{MR0075938}.
        Let $G$ be the subgroup of $\Sym_{16}$ 
        generated by the permutations 
        \begin{align*}
&a = (13)(24),&&
b = (57)(68),\\
&c = (9\,11)(10\,12),&&
d = (13\,15)(14\,16),\\
&e = (13)(57)(9\,11),&&
f = (12)(34)(13\,15),\\
&g = (56)(78)(13\,14)(15\,16),&&
h = (9\,10)(11\,12).
\end{align*}
Then $[G,G]$ has order 16, but the set of commutators of 
$G$ has 15 elements:
% \begin{lstlisting}
% gap> a := (1,3)(2,4);;
% gap> b := (5,7)(6,8);;
% gap> c := (9,11)(10,12);;
% gap> d := (13,15)(14,16);;
% gap> e := (1,3)(5,7)(9,11);;
% gap> f := (1,2)(3,4)(13,15);;
% gap> g := (5,6)(7,8)(13,14)(15,16);;
% gap> h := (9,10)(11,12);;
% gap> G := Group([a,b,c,d,e,f,g,h]);;
% gap> D := DerivedSubgroup(G);;
% gap> Size(D);
% 16
% gap> Size(Set(Cartesian(G, G), x->Comm(x[1], x[2])));
% 15
% gap> c*d in Difference(D, Set(Cartesian(G, G), Comm));
% true
% \end{lstlisting}
% % G<a,b,c,d,e,f,g,h> := PermutationGroup<16 | (1,3)(2,4), (5,7)(6,8),(9,11)(10,12), (13,15)(14,16), (1,3)(5,7)(9,11), (1,2)(3,4)(13,15), (5,6)(7,8)(13,14)(15,16), (9,10)(11,12)>;
% % D := DerivedSubgroup(G);
% % c*d in { x : x in D } diff { u*v*Inverse(u)*Inverse(v) : u in G, v in G};
\begin{lstlisting}
> S16 := Sym(16);
> a := S16 ! (1,3)(2,4);
> b := S16 ! (5,7)(6,8);
> c := S16 ! (9,11)(10,12);
> d := S16 ! (13,15)(14,16);
> e := S16 ! (1,3)(5,7)(9,11);
> f := S16 ! (1,2)(3,4)(13,15);
> g := S16 ! (5,6)(7,8)(13,14)(15,16);
> h := S16 ! (9,10)(11,12);
> G := PermutationGroup< 16 | a,b,c,d,e,f,g,h >;
> D := DerivedSubgroup(G);
> #D;
16
> #{ x*y*Inverse(x)*Inverse(y) : x in G, y in G };
15    
> c*d in { x : x in D } \ 
> diff { u*v*Inverse(u)*Inverse(v) : u in G, v in G };
true
\end{lstlisting}
\end{example}

The following example goes back to Guralnick~\cite{MR673806}. 
It was found by hand when computers were not as popular
in group theory as now. 

\begin{example}
The group 
\[
G=\langle (135)(246)(7\,11\,9)(8\,12\,10),(394\,10)(58)(67)(11\,12)\rangle.
\]
has order 96. The set of commutators 
is different from the commutator subgroup:
% \begin{lstlisting}
% gap> x := (1,3,5)(2,4,6)(7,11,9)(8,12,10);;
% gap> y := (3,9,4,10)(5,8)(6,7)(11,12);;
% gap> G := Group([x,y]);;
% gap> Order(G);
% 96
% gap> D := DerivedSubgroup(G);;
% gap> Order(D);
% 32
% gap> Size(Set(Cartesian(G, G), x->Comm(x[1], x[2])));
% 29
% \end{lstlisting}
\begin{lstlisting}
> a := S12 ! (1,3,5)(2,4,6)(7,11,9)(8,12,10);
> b := S12 ! (3,9,4,10)(5,8)(6,7)(11,12);
> G := PermutationGroup< 12 | a,b >;
> Order(G);
96
> D := DerivedSubgroup(G);
> Order(D);
32
> #{ a*b*Inverse(a)*Inverse(b) : a in G, b in G };
29
\end{lstlisting}
% G<x,y> := PermutationGroup< 12 | (1,3,5)(2,4,6)(7,11,9)(8,12,10), (3 ,9 ,4 ,10)(5 ,8)(6 ,7)(11 ,12) >;
% Order(G);
% D := DerivedSubgroup (G);
% Order(D);
% # { a*b*Inverse(a)*Inverse(b) : a in G, b in G };
Moreover, 
$G$ is the smallest group with the property that  
the set of commutators is not a subgroup. 
\end{example}
